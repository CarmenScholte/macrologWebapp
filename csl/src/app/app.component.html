<div class="header">
  <div *ngIf="loggedIn()" class="header__item header__item--menu" (click)="openNav()">
    <i class="fas fa-bars"></i>
  </div>

  <div *ngIf="loggedIn()"  class="header__item header__item--title">{{title}}</div>
  <div *ngIf="!loggedIn()" class="header__item header__item--title">Macrolog</div>

  <div *ngIf="loggedIn()" class="header__item header__item--right" (click)="closeNav();showUserMenu()" >
    <span class="header-item--text">{{username()}}</span>
    <i class="icon--large fas fa-user-circle"></i>
  </div>

</div>

<div #usermenuBackdrop class="usermenu-backdrop" (click)="closeUserMenu()"></div>
<div #usermenu class="usermenu-wrapper" (click)="closeUserMenu()">
  <div class="usermenu">
    <div class="usermenu__item usermenu__item--top">{{username()}} <i class="fas fa-arrow-up"></i></div>
    <div *ngIf="loggedIn()" class="usermenu__item" (click)="setTitle(profileTitle)" routerLink="/user">My Profile</div>
    <!--<div *ngIf="loggedIn()" class="usermenu__item">Daily Intake</div>-->
    <div *ngIf="loggedIn()" class="usermenu__item" routerLink="/login">Logout</div>
  </div>
</div>

<div #navbarBackdrop class="nav-backdrop" (click)="closeNav(title)"></div>
<div #navbar class="nav-wrapper" (click)="closeNav(title)">
  <div *ngIf="loggedIn()" class="nav">
    <div class="nav__item nav__item--top">
      <i class="fas fa-arrow-left"></i>
    </div>
    <div class="nav__item" routerLink="/log"
         (click)="closeNav(logTitle)">
      <a>{{logTitle}}</a>
    </div>
    <div class="nav__item" routerLink="/meals"
         (click)="closeNav(mealsTitle)">
      <a>{{mealsTitle}}</a>
    </div>
    <div class="nav__item" routerLink="/food"
         (click)="closeNav(foodTitle)">
      <a>{{foodTitle}}</a>
    </div>
    <!--<div class="nav__item" routerLink="/graphs"-->
         <!--(click)="closeNav(graphsTitle)">-->
      <!--<a>{{graphsTitle}}</a>-->
    <!--</div>-->
  </div>
</div>

<router-outlet></router-outlet>

<toast-component></toast-component>
